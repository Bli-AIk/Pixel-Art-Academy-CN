@import "{retronator:landsofillusions}/style/style.import"

.pixelartacademy-pixelboy-apps-pico-8
  overflow hidden

  .pico8-app-wrapper
    position relative
    top 2rem
    left 0
    width 320rem
    height 155rem

    .case
      width 100%
      height 100%

    .menu-button
      position absolute
      width 25rem
      height 7rem
      left 32rem
      bottom 32rem
      cursor pointer
      background transparent
      border 0
      margin 0
      padding 0

      .menu-button-state.pressed
        display none

      &:active
        outline none

        .menu-button-state.default
          display none

        .menu-button-state.pressed
          display initial

      img
        width 100%
        height 100%
        position absolute
        top 0
        left 0

    .power-toggle
      position absolute
      width 20rem
      height 24rem
      opacity 0.5
      right 79rem
      top -5rem
      z-index 1
      cursor pointer

    .power-toggle-controller
      display none

    // When switch off, power down.
    .power-toggle-controller:checked
      & ~ .power-button
        left 226rem

      & ~ .picoscreen
        .power-state.on
          display none

        .power-state.off
          display initial

    .power-button
      width 19rem
      height 2rem
      position absolute
      left 221rem
      top -2rem
      transition left 100ms

      img
        display block
        width 100%
        height 100%

    .d-pad
      width 48rem
      height 48rem
      position absolute
      top 32rem
      right 17rem

      // D-pad aesthetics
      .d-pad-state
        position absolute
        top 0
        left 0
        width 100%
        height 100%
        display none

        &.default
          display initial

      // D-pad buttons for events
      .d-pad-button
        position absolute
        opacity 0
        z-index 1
        cursor pointer

        &.up
          top 6rem
          left 17rem
          width 14rem
          height 13rem

        &.right
          top 16rem
          right 6rem
          width 11rem
          height 16rem

        &.down
          bottom 6rem
          left 17rem
          width 14rem
          height 13rem

        &.left
          top 16rem
          left 6rem
          width 11rem
          height 16rem

      // D-pad button pressed
      .d-pad-button
        &:active
        &.pressed
          & ~ .d-pad-state.initial
            display none

      .d-pad-button.up
        &:active
        &.pressed
          & ~ .d-pad-state.up
            display initial

      .d-pad-button.right
        &:active
        &.pressed
          & ~ .d-pad-state.right
            display initial

      .d-pad-button.down
        &:active
        &.pressed
          & ~ .d-pad-state.down
            display initial

      .d-pad-button.left
        &:active
        &.pressed
          & ~ .d-pad-state.left
            display initial

    .main-buttons
      position absolute
      width 45rem
      height 26rem
      left 19rem
      top 44rem

      .main-button
        position absolute
        width 21rem
        height 18rem
        cursor pointer

        &.left
          top 0
          left 0

        &.right
          bottom 0
          right 0

        .main-button-state
          position absolute
          top 0
          left 0
          width 100%
          height 100%

          &.pressed
            display none

        &:active
        &.pressed
          .main-button-state.default
            display none
          .main-button-state.pressed
            display initial

    .picoscreen
      width 156rem
      height 146rem
      position absolute
      top 4rem
      left 82rem

      .pico-container
        position absolute
        top 5rem
        left 14rem
        width 128rem
        height 128rem
        opacity 0
        transition opacity 0.5s
        background atariGrey(0)

        canvas
          width 100%
          height 100%

        &.power-on
          opacity 1

      .power-indicator
        position absolute
        width 4rem
        height 4rem
        top 6rem
        right 5rem

        img
          display block

        .power-state
          width 100%
          height 100%

          &.off
            display none

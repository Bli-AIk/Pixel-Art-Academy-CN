<template name="LandsOfIllusions.Construct.Pages.Account">
  {{> LandsOfIllusions.Styles.Console}}
  <div class="account-page">
    {{> loginButtons}}
    <h2>Welcome to Lands of Illusions!</h2>
    <ul class="tabs">
      <li><a href="{{flowRouterPath 'LandsOfIllusions.Start'}}">Start</a></li>
      <li><a href="{{flowRouterPath 'LandsOfIllusions.Characters'}}">Characters</a></li>
    </ul>
    <div class="account">
      {{#if $equals flowRouterRouteName 'LandsOfIllusions.Start'}}
        <p>You find yourself in an open white space, extending into infinity.</p>
        <p>Two red armchairs and an old-fashioned cathode ray tube television are the only items you can see. A man with sunglasses suddenly appears and speaks:</p>
        {{#if currentCharacter}}
          <p>"Welcome, {{currentCharacter.displayName}}! Where would you like to go today?"</p>
          <p>The only option seems to be the <a href="{{flowRouterPath 'PixelArtAcademy'}}">Retropolis Academy of Art</a>.</p>
        {{else}}
          <p>"Welcome to Lands of Illusions! What you see around you is a loading program. To enter the Lands of Illusions
            world, you will need to create and load your residual self image and this is the place to do it."</p>
          <p>He points to the Characters tab in your internet navigation device and sits down.</p>
        {{/if}}
      {{/if}}

      {{#if $equals flowRouterRouteName 'LandsOfIllusions.Characters'}}
        <p>Your characters are:</p>
        <ul class="characters">
          {{#each characters}}
            <li class="character">
              {{> LandsOfIllusions.Construct.Pages.Account.CharacterName}}
              <button class="load-character {{showLoadButtonClass}}">Load</button>
            </li>
          {{else}}
            <p>You do not have any characters.
            {{#if currentUser.hasItem 'LandsOfIllusions.Character.Creation'}}
              Add one below.
            {{else}}
              Make sure that your rewards tier is applied in the purchases tab to be able to create new characters.
            {{/if}}
            </p>
          {{/each}}
        </ul>
        {{#if currentUser.hasItem 'LandsOfIllusions.Character.Creation'}}
          <p><button class="new-character">New Character</button> Think of it like starting a new game.</p>
        {{/if}}
        {{#if currentCharacter}}
          {{#with currentCharacter}}
            <p>You are playing as {{currentCharacter.displayName}}. <button class="unload-character">Unload</button></p>
            <div class="current-character-editor">
              <p>Character color is</p>
              <div class="color">
                <p>hue: {{> LandsOfIllusions.Construct.Pages.Account.CharacterColorHue}} shade: {{> LandsOfIllusions.Construct.Pages.Account.CharacterColorShade}}</p>
                <p>Preview:</p>
                <div class="dialog-preview" {{style dialogPreviewStyle}}>
                  I'm not just saying this to be clever,<br/>I'm also saying it because it's true.
                </div>
              </div>
            </div>
          {{/with}}
        {{/if}}
      {{/if}}
    </div>
  </div>
</template>

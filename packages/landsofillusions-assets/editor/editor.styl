@import "{retronator:landsofillusions}/style/style.import"

html.landsofillusions-assets-editor
  overflow hidden

div.landsofillusions-assets-editor
  absolute-cover()
  adventure()
  color atariGrey(4)
  background blend(rgba(atariGrey(0), 0.5) atariGrey(1))

  *
    pixel-image-rendering()
    background-size 100% 100%

  button
  input
  select
    border 1rem solid atariGrey(0)
    font inherit
    color inherit

    &:focus
      outline none

  input
  select
    background rgba(atariGrey(0),0.65)
    padding 0 3rem

    &[type=number]
      padding-right 0

  button
    background atariGrey(1)
    padding 0 5rem

  .fatamorgana-interface
    absolute-cover()

    &.pencil
      cursor url('/pixelartacademy/pixelboy/apps/drawing/editor/cursors/2x/pencil.png?0.1.0') 2 0, default

      html.scale-3-or-up &
        cursor url('/pixelartacademy/pixelboy/apps/drawing/editor/cursors/3x/pencil.png?0.1.0') 3 0, default

    &.eraser
      cursor url('/pixelartacademy/pixelboy/apps/drawing/editor/cursors/2x/eraser.png?0.1.0') 4 2, default

      html.scale-3-or-up &
        cursor url('/pixelartacademy/pixelboy/apps/drawing/editor/cursors/3x/eraser.png?0.1.0') 6 3, default

    &.color-picker
    &.cluster-picker
      cursor url('/pixelartacademy/pixelboy/apps/drawing/editor/cursors/2x/eyedropper.png?0.1.0') 2 0, default

      html.scale-3-or-up &
        cursor url('/pixelartacademy/pixelboy/apps/drawing/editor/cursors/3x/eyedropper.png?0.1.0') 3 0, default

    &.color-fill
      cursor url('/pixelartacademy/pixelboy/apps/drawing/editor/cursors/2x/colorfill.png?0.1.0') 5 30, default

      html.scale-3-or-up &
        cursor url('/pixelartacademy/pixelboy/apps/drawing/editor/cursors/3x/colorfill.png?0.1.0') 7 45, default

    &.move-canvas
      cursor grab

      &.dragging
        .sprite
          transition none !important

    &.move-camera
      cursor move

    .fatamorgana-splitview
      .divider
        background-color atariGrey(1)

    .fatamorgana-tabbedview
      display flex
      width 100%
      height 100%
      flex-direction column

      .tabs
        display flex
        flex-shrink 0
        background atariGrey(0)
        padding-top 2rem

        .tab
          padding 2rem 4rem
          checkout()
          text-transform uppercase
          cursor pointer
          white-space nowrap
          text-overflow ellipsis
          overflow hidden

          &.active
            background-color atariGrey(1)
            cursor default

      .active-tab
        position relative
        flex-grow 1
        background-color atariGrey(1)

        > .fatamorgana-area
          absolute-cover()
          overflow-y auto

    .fatamorgana-editorview
      display flex
      width 100%
      height 100%
      flex-direction column

      .tabs
        display flex
        flex-shrink 0
        background atariGrey(1)
        padding-top 2rem

        .tab
          padding 2rem 4rem
          checkout()
          cursor pointer
          white-space nowrap
          text-overflow ellipsis
          overflow hidden
          color atariGrey(4)

          &.active
            background-color atariGrey(2)
            cursor default
            color atariGrey(6)

      .editor
        position relative
        flex-grow 1
        border 1rem solid atariGrey(2)

        > .fatamorgana-area
          absolute-cover()
          overflow hidden

    .fatamorgana-menu
      background-color atariGrey(1)

      .items
        margin 0 4rem

        .item
          padding 2rem 4rem
          cursor pointer

          &:first-child
            color atariGrey(5)

          &:hover
            background-color atariGrey(2)
            color atariGrey(6)

    .fatamorgana-menu-dropdown
      background-color atariGrey(1)
      box-shadow 5rem 5rem 0 rgba(atariGrey(0), 0.5)

      .items
        padding 2rem 0

        .item
          display flex
          padding 1rem 4rem 1rem 0
          color atariGrey(2)

          &.enabled
            cursor pointer
            color atariGrey(4)

            &:hover
              background-color atariGrey(2)
              color atariGrey(6)

          .active-status
            width 14rem
            padding-left 1rem
            text-align center

            &.active
              &::before
                content 'âœ”'

          .caption
            flex-grow 1

          .shortcut
            margin-left 8rem

        .divider
          margin 3rem 0
          height 1rem
          background-color atariGrey(2)

    .fatamorgana-toolbox
      background-color atariGrey(1)
      height 100%

      .tools
        display flex
        flex-wrap wrap

        .tool
          width 20rem
          height 20rem

          .tool-button
            width 20rem
            height 20rem
            padding 1rem
            border 1rem solid atariGrey(1)
            background none

            &:hover
              background atariGrey(2)

            .icon
              width 16rem
              height 16rem

            .name
              display none

          &.active
            .tool-button
              background atariGrey(2)
              border-color atariGrey(2)

    .landsofillusions-assets-components-pixelcanvas
      position relative
      width 100%
      height 100%
      user-select none

      .canvas
        absolute-cover-size()
        user-select none

    .landsofillusions-assets-components-assetslist
      width 100rem
      max-height 100rem
      overflow-y auto
      margin-bottom 10rem

      .assets
        list-style none
        padding 0
        margin 0
        background atariGrey(3)
        color atariGrey(0)

        .asset
          cursor pointer
          padding 1rem 2rem

          &:hover
            background-color atariGrey(4)

          &.active
            background-color atariGrey(5)
            cursor default

    .landsofillusions-assets-components-navigator
    .landsofillusions-assets-components-assetinfo
    .landsofillusions-assets-components-materials
    .landsofillusions-assets-components-landmarks
    .landsofillusions-assets-components-camera
    .landsofillusions-assets-components-shadingsphere
      width 100%
      height 100%
      padding 2rem

    .landsofillusions-assets-components-navigator
      .zoom-display
        display inline-block

        .zoom-percentage-input
          width 50rem
          text-align right
          background none
          border none

    .landsofillusions-assets-components-palette
      display flex
      flex-direction column

      .ramp
        display flex

        .color
          width 7rem
          height 7rem
          position relative
          cursor pointer

          &::after
            content ''
            display none
            position absolute
            top -1rem
            bottom -1rem
            left -1rem
            right -1rem
            z-index 1
            border 1rem solid atariGrey(4)

          &.active::after
            display block

    .landsofillusions-assets-components-assetinfo
      .name
      .palette
        display block

        input
        select
          width 75rem

      .name
        margin-bottom 2rem

      .palette
        margin-bottom 5rem

    .landsofillusions-assets-components-materials
    .landsofillusions-assets-components-landmarks
    .landsofillusions-assets-components-camera
      width 100%
      height 100%

      .materials-table
      .landmarks-table
      .vectors-table
        border-collapse collapse
        table-layout fixed
        width 100%

        .legend
          th
            checkout()
            font-weight normal
            width 20rem
            overflow hidden
            white-space nowrap

            &.name
              width auto

        .material
        .landmark
        .vector
          td
            border 1rem solid black
            padding 0
            margin 0
            height 9rem
            font-size inherit
            line-height 5rem
            background rgba(atariGrey(0), 0.65)
            cursor pointer

          input
            border none
            background none
            width 100%
            height 10rem

            &:focus
              outline none

      .vectors-table
        .legend
          th
            width 25rem

      .actions
        text-align right
        margin-top 5rem

    .landsofillusions-assets-components-materials
      .materials-table
        .legend
          .preview
            width 12rem

        .material
          .preview
            position relative

            &::after
              content ''
              display none
              position absolute
              top -1rem
              bottom -1rem
              left -1rem
              right -1rem
              border 1rem solid atariGrey(4)

            &.active::after
              display block

    .landsofillusions-assets-components-landmarks
      .landmarks-table
        .legend
          .number
            width 12rem

        .landmark
          .number
            text-align center

    .landsofillusions-assets-components-shadingsphere
      pointer-events none

      .options
        margin-top 5rem
        pointer-events auto

        .option
          margin-top 5rem

      .landsofillusions-assets-components-pixelcanvas
        display inline-block
        vertical-align bottom
        position relative
        top auto
        right auto
        width 80rem
        height 80rem
        background blend(rgba(atariGrey(1), 0.5) atariGrey(2))
        border 1rem solid atariGrey(0)
        pointer-events auto

      .edit-light-button
        margin-bottom 0

        &.active
          background atariYellow(5)
          color atariGrey(0)

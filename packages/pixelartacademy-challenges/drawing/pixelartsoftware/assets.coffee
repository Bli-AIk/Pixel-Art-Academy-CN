assets =
  MSHMNetherWorld:
    dimensions: -> width: 13, height: 16
    imageName: -> 'mshm-netherworld'
    bitmapInfo: -> """
      出自[《NetherWorld》](http://www.netherworldgame.com)，尚未完成

      画师: Isabel 'Erien' Armentero
    """
    maxClipboardScale: -> 5
    artist:
      name:
        first: 'Isabel'
        last: 'Armentero'
        nickname: 'Erien'
    artwork:
      title: 'Medoo'
      completionDate:
        year: 2017

  MSHMDespotDungeons:
    dimensions: -> width: 12, height: 14
    backgroundColor: -> new THREE.Color '#1e1e1e'
    imageName: -> 'mshm-despotdungeons'
    bitmapInfo: -> """
      出自[《Despot Dungeons》](https://realfast.itch.io/despot-dungeons)，2017年

      画师: Hjalte Tagmose
    """
    maxClipboardScale: -> 5
    artist:
      name:
        first: 'Hjalte'
        last: 'Tagmose'
    artwork:
      title: 'Disenfranchised frog'
      completionDate:
        year: 2017

  MSEMDespotDungeons:
    dimensions: -> width: 11, height: 14
    backgroundColor: -> new THREE.Color '#1e1e1e'
    imageName: -> 'msem-despotdungeons'
    bitmapInfo: -> """
      出自[《Despot Dungeons》](https://realfast.itch.io/despot-dungeons)，2017年

      画师: Hjalte Tagmose
    """
    maxClipboardScale: -> 5
    artist:
      name:
        first: 'Hjalte'
        last: 'Tagmose'
    artwork:
      title: 'Ratman'
      completionDate:
        year: 2017

  MSEMLAbbayeDesMorts:
    dimensions: -> width: 15, height: 9
    restrictedPaletteName: -> LOI.Assets.Palette.SystemPaletteNames.ZXSpectrum
    backgroundColor: ->
      paletteColor:
        ramp: 0
        shade: 0
    imageName: -> 'msem-labbayedesmorts'
    bitmapInfo: -> """
      出自[《l'Abbaye des Morts》](https://www.locomalito.com/abbaye_des_morts.php)，2010年

      画师: Locomalito
    """
    artist:
      name:
        first: 'Juan'
        middle: 'Antonio'
        last: 'Becerra'
      pseudonym: 'Locomalito'
    artwork:
      title: 'Flying skull'
      completionDate:
        year: 2010

  MSVMLuftrauser:
    dimensions: -> width: 16, height: 14
    backgroundColor: -> new THREE.Color '#e5dcae'
    imageName: -> 'msvm-luftrauser'
    bitmapInfo: -> """
      出自[《LUFTRAUSER》](https://www.newgrounds.com/portal/view/573422)，2011年

      画师: Paul 'Pietepiet' Veer
    """
    artist:
      name:
        first: 'Paul'
        last: 'Veer'
        nickname: 'Pietepiet'
    artwork:
      title: 'Rauser'
      completionDate:
        year: 2011

  MSOMMidnightDungeon:
    dimensions: -> width: 6, height: 6
    backgroundColor: -> new THREE.Color '#000'
    imageName: -> 'msom-midnightdungeon'
    bitmapInfo: -> """
      出自[《Midnight Dungeon》](https://pixelartm.itch.io/midnight-dungeon)，2018年

      画师: Miguel 'PixelArtM' Sánchez
    """
    artist:
      name:
        first: 'Miguel'
        last: 'Sánchez'
        nickname: 'PixelArtM'
    artwork:
      title: 'Sword'
      completionDate:
        year: 2018

  MBHMLouBagelsWaffleBar:
    dimensions: -> width: 36, height: 49
    backgroundColor: -> new THREE.Color '#a394d2'
    imageName: -> 'mbhm-loubagelswafflebar'
    bitmapInfo: -> """
      出自[《Lou Bagel's Waffle Bar》](https://www.loubagel.com/arcade/)，2018年

      画师: Chris Taylor
    """
    maxClipboardScale: -> 1.5
    artist:
      name:
        first: 'Chris'
        last: 'Taylor'
    artwork:
      title: 'Bagel chef'
      completionDate:
        year: 2018

  MBHMVVVVVV:
    dimensions: -> width: 10, height: 21
    backgroundColor: -> new THREE.Color '#000'
    imageName: -> 'mbhm-vvvvvv'
    bitmapInfo: -> """
      出自[《VVVVVV》](https://thelettervsixtim.es)，2010年

      画师: Terry Cavanagh
    """
    artist:
      name:
        first: 'Terry'
        last: 'Cavanagh'
    artwork:
      title: 'Captain Viridian'
      completionDate:
        year: 2009

  MBEMSaboteurSiO:
    dimensions: -> width: 32, height: 46
    restrictedPaletteName: -> LOI.Assets.Palette.SystemPaletteNames.ZXSpectrum
    imageName: -> 'mbem-saboteursio'
    bitmapInfo: -> """
      出自[《Saboteur SiO》](http://www.clivetownsend.com)，尚未完成

      画师: Ricardo Oyón Rodríguez
    """
    maxClipboardScale: -> 1.5
    artist:
      name:
        first: 'Ricardo'
        middle: 'Oyón'
        last: 'Rodríguez'
    artwork:
      title: 'Bouncer'
      completionDate:
        year: 2018

  MBVMLuftrausers:
    dimensions: -> width: 59, height: 18
    backgroundColor: -> new THREE.Color '#e5ddac'
    imageName: -> 'mbvm-luftrausers'
    bitmapInfo: -> """
      出自[《LUFTRAUSERS》](http://luftrausers.com)，2014年

      画师: Roy Nathan de Groot
    """
    artist:
      name:
        first: 'Roy'
        middle: 'Nathan'
        lastPrefix: 'de'
        last: 'Groot'
    artwork:
      title: 'Boat'
      completionDate:
        year: 2014

  MBOMCityClickers:
    dimensions: -> width: 34, height: 22
    backgroundColor: -> new THREE.Color '#e8cda8'
    imageName: -> 'mbom-cityclickers'
    bitmapInfo: -> """
      出自[《City Clickers》](https://eigen.itch.io/city-clickers)，2017年

      画师: Eigen Lenk
    """
    artist:
      name:
        first: 'Eigen'
        last: 'Lenk'
    artwork:
      title: 'House'
      completionDate:
        year: 2017

  MBOMInventorious:
    dimensions: -> width: 19, height: 22
    backgroundColor: -> new THREE.Color '#250936'
    imageName: -> 'mbom-inventorious'
    bitmapInfo: -> """
      出自[《Inventorious》](https://placeholders.itch.io/inventorious)，2018年

      画师: Mati Ernst
    """
    maxClipboardScale: -> 3.5
    artist:
      name:
        first: 'Mati'
        last: 'Ernst'
    artwork:
      title: 'Necklace'
      completionDate:
        year: 2018

  CSHMCeleste:
    dimensions: -> width: 9, height: 7
    restrictedPaletteName: -> LOI.Assets.Palette.SystemPaletteNames.Pico8
    backgroundColor: ->
      paletteColor:
        ramp: 0
        shade: 0
    imageName: -> 'cshm-celeste'
    bitmapInfo: -> """
      出自[《Celeste Classic》](https://mattmakesgames.itch.io/celesteclassic)，2015年

      画师: Noel Berry
    """
    artist:
      name:
        first: 'Noel'
        last: 'Berry'
    artwork:
      title: 'Madeline'
      completionDate:
        year: 2015

  CSEMHookLineAndThinker:
    dimensions: -> width: 7, height: 8
    restrictedPaletteName: -> LOI.Assets.Palette.SystemPaletteNames.Pico8
    backgroundColor: ->
      paletteColor:
        ramp: 1
        shade: 0
    imageName: -> 'csem-hooklineandthinker'
    bitmapInfo: -> """
      出自[《Hook, Line and Thinker》](https://rhythmlynx.itch.io/hook-line-and-thinker)，2016年

      画师: Connor Halford
    """
    artist:
      name:
        first: 'Connor'
        last: 'Halford'
    artwork:
      title: 'Crab'
      completionDate:
        year: 2016

CSEMSuperCrateBox:
    dimensions: -> width: 8, height: 7
    imageName: -> 'csem-supercratebox'
    bitmapInfo: -> """
      画作出自[《Super Crate Box》](http://supercratebox.com)，2010年

      画师：Roy Nathan de Groot
    """
    artist:
      name:
        first: 'Roy'
        middle: 'Nathan'
        lastPrefix: 'de'
        last: 'Groot'
    artwork:
      title: 'Small flying skull'
      completionDate:
        year: 2010

  CSVMFroggi:
    dimensions: -> width: 16, height: 12
    restrictedPaletteName: -> LOI.Assets.Palette.SystemPaletteNames.Pico8
    backgroundColor: ->
      paletteColor:
        ramp: 0
        shade: 0
    imageName: -> 'csvm-froggi'
    bitmapInfo: -> """
      画作出自[《Froggi》](https://sophieh.itch.io/froggi)，2018年

      画师：Sophie Houlden
    """
    artist:
      name:
        first: 'Sophie'
        last: 'Houlden'
    artwork:
      title: 'Red sports car'
      completionDate:
        year: 2018

  CSOMTheWakingCloak:
    dimensions: -> width: 16, height: 16
    imageName: -> 'csom-thewakingcloak'
    bitmapInfo: -> """
      画作出自[《The Waking Cloak》](http://www.thewakingcloak.com)，尚未完成

      画师：Daniel Müller
    """
    maxClipboardScale: -> 5
    artist:
      name:
        first: 'Daniel'
        last: 'Müller'
    artwork:
      title: 'Staff of Moonlight'
      completionDate:
        year: 2018

  CBHMFez:
    dimensions: -> width: 13, height: 18
    backgroundColor: -> new THREE.Color '#251635'
    imageName: -> 'cbhm-fez'
    bitmapInfo: -> """
      画作出自[《FEZ》](http://www.fezgame.com)，2012年

      画师：Phil Fish
    """
    maxClipboardScale: -> 4.5
    artist:
      name:
        first: 'Phil'
        last: 'Fish'
    artwork:
      title: 'Gomez'
      completionDate:
        year: 2009

  CBHMOwlboy:
    dimensions: -> width: 19, height: 38
    imageName: -> 'cbhm-owlboy'
    bitmapInfo: -> """
      画作出自[《Owlboy》](http://www.owlboygame.com)，2016年

      画师：Simon Stafsnes 'Snake' Andersen
    """
    maxClipboardScale: -> 2
    artist:
      name:
        first: 'Simon'
        middle: 'Stafsnes'
        last: 'Andersen'
        nickname: 'Snake'
    artwork:
      title: 'Otus'
      completionDate:
        year: 2008

  CBHMCourierOfTheCrypts:
    dimensions: -> width: 15, height: 19
    imageName: -> 'cbhm-courierofthecrypts'
    bitmapInfo: -> """
      画作出自[《Courier of the Crypts》](http://www.courierofthecrypts.com)，2019年

      画师：Primož Vovk
    """
    maxClipboardScale: -> 4
    artist:
      name:
        first: 'Primož'
        last: 'Vovk'
    artwork:
      title: 'Courier'
      completionDate:
        year: 2014

  CBHMNYKRA:
    dimensions: -> width: 9, height: 23
    imageName: -> 'cbhm-nykra'
    bitmapInfo: -> """
      画作出自[《NYKRA: Before》](http://nykra.com)，2021年

      画师：ENDESGA
    """
    maxClipboardScale: -> 3.5
    artist:
      name:
        nickname: 'ENDESGA'
    artwork:
      title: 'Keu'
      completionDate:
        year: 2015

  CBEMSuperCrateBox:
    dimensions: -> width: 19, height: 18
    imageName: -> 'cbem-supercratebox'
    bitmapInfo: -> """
      画作出自[《Super Crate Box》](http://supercratebox.com)，2010年

      画师：Roy Nathan de Groot
    """
    maxClipboardScale: -> 4.5
    artist:
      name:
        first: 'Roy'
        middle: 'Nathan'
        lastPrefix: 'de'
        last: 'Groot'
    artwork:
      title: 'Big green skull'
      completionDate:
        year: 2010

  CBEMIntoTheRift:
    dimensions: -> width: 30, height: 32
    imageName: -> 'cbem-intotherift'
    bitmapInfo: -> """
      画作出自[《Into The Rift》](https://store.steampowered.com/app/1093810/Savior/)，尚未完成

      画师：Weston Tracy
    """
    maxClipboardScale: -> 2.5
    artist:
      name:
        first: 'Weston'
        last: 'Tracy'
    artwork:
      title: 'Archer'
      completionDate:
        year: 2015

  CBEMKingdomNewLands:
    dimensions: -> width: 12, height: 21
    imageName: -> 'cbem-kingdomnewlands'
    bitmapInfo: -> """
      画作出自[《Kingdom: New Lands》](http://www.kingdomthegame.com)，2015年

      画师：Thomas van den Berg
    """
    maxClipboardScale: -> 3.5
    artist:
      name:
        first: 'Thomas'
        lastPrefix: 'van den'
        last: 'Berg'
    artwork:
      title: 'Greedling'
      completionDate:
        year: 2015

  CBEMDontGiveUpACynicalTale:
    dimensions: -> width: 22, height: 25
    imageName: -> 'cbem-dontgiveupacynicaltale'
    bitmapInfo: -> """
      画作出自[《DON'T GIVE UP: A Cynical Tale》](https://trisbee.itch.io/dont-give-up-a-cynical-tale)，尚未完成

      画师：Tristan Barona
    """
    maxClipboardScale: -> 3
    artist:
      name:
        first: 'Tristan'
        last: 'Barona'
    artwork:
      title: 'Ted Tantrums'
      completionDate:
        year: 2017

  CBVMIntoTheBreach:
    dimensions: -> width: 31, height: 31
    imageName: -> 'cbvm-intothebreach'
    bitmapInfo: -> """
      画作出自[《Into The Breach》](https://subsetgames.com/itb.html)，2018年

      画师：Jay Ma
    """
    maxClipboardScale: -> 2.5
    artist:
      name:
        first: 'Jay'
        last: 'Ma'
    artwork:
      title: 'Rift Walkers Combat Mech'
      completionDate:
        year: 2017

  CBVMHydorah:
    dimensions: -> width: 23, height: 8
    backgroundColor: -> new THREE.Color '#000'
    imageName: -> 'cbvm-hydorah'
    bitmapInfo: -> """
      画作出自[《Hydorah》](https://www.locomalito.com/hydorah.php)，2010年

      画师：Locomalito
    """
    artist:
      name:
        first: 'Juan'
        middle: 'Antonio'
        last: 'Becerra'
      pseudonym: 'Locomalito'
    artwork:
      title: 'Spaceship'
      completionDate:
        year: 2010

  CBOMVirtuaVerse:
    dimensions: -> width: 31, height: 23
    imageName: -> 'cbom-virtuaverse'
    bitmapInfo: -> """
      画作出自[《VirtuaVerse》](https://www.facebook.com/virtuaversegame)，2020年

      画师：Ra 'Valenberg' Mei
    """
    artist:
      name:
        first: 'Ra'
        last: 'Mei'
        nickname: 'Valenberg'
    artwork:
      title: 'Pizza Amore'
      completionDate:
        year: 2017

  CBOMThimbleweedPark:
    dimensions: -> width: 32, height: 18
    backgroundColor: -> new THREE.Color '#001e51'
    imageName: -> 'cbom-thimbleweedpark'
    bitmapInfo: -> """
      画作出自[《Thimbleweed Park》](https://thimbleweedpark.com)，2017年

      画师：Gary Winnick
    """
    artist:
      name:
        first: 'Gary'
        last: 'Winnick'
    artwork:
      title: 'Balloon animal'
      completionDate:
        year: 2014

for assetId, asset of assets
  do (assetId, asset) ->
    class CopyReference[assetId] extends CopyReference
      @id: -> "PixelArtAcademy.Challenges.Drawing.PixelArtSoftware.CopyReference.#{assetId}"
      @fixedDimensions: asset.dimensions
      @backgroundColor: asset.backgroundColor or -> null
      # Note: we don't override restrictedPaletteName since we expect the function to exist.
      @restrictedPaletteName: asset.restrictedPaletteName or -> null
      @imageName: asset.imageName
      @bitmapInfo: asset.bitmapInfo
      @maxClipboardScale: asset.maxClipboardScale
      @initialize()
  
    PAA.Challenges.Drawing.PixelArtSoftware.copyReferenceClasses[assetId] = CopyReference[assetId]

    # On the server also create PADB entries.
    if Meteor.isServer
      Document.startup =>
        referenceUrl = "/pixelartacademy/challenges/drawing/pixelartsoftware/#{asset.imageName()}-reference.png"

        unless PADB.Artwork.forUrl.query(referenceUrl).count()
          artwork = _.extend {}, asset.artwork,
            type: PADB.Artwork.Types.Image
            image:
              url: "/pixelartacademy/challenges/drawing/pixelartsoftware/#{asset.imageName()}.png"
            representations: [
              type: PADB.Artwork.RepresentationTypes.Image
              url: referenceUrl
            ]
            
          PADB.create
            artist: asset.artist
            artworks: [artwork]

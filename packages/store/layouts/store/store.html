<template name="Retronator.Store.Layouts.Store">
  <div class="layout-store">
    {{> Retronator.Store.Layouts.Store.Header}}
    {{> renderPage}}
  </div>
</template>

<template name="Retronator.Store.Layouts.Store.Header">
  <div class="header-area">
    <header class="header">
      <h1 class="title">
        {{> RouteLink args 'Retronator Store' 'Retronator.Store'}}
        <span class="powered-by">with checkout by <a href="https://stripe.com" target="_blank">Stripe</a></span>
      </h1>
      <nav class="navigation">
        <ul class="tabs">
          <li class="tab">{{> RouteLink args 'Store' 'Retronator.Store'}}</li>
          <li class="tab">{{> RouteLink args 'Cart' 'Retronator.Store.Cart'}}</li>
          <li class="tab">{{> RouteLink args '$$$' 'Retronator.Store.Money'}}</li>
          {{#if currentUser}}
            <li class="tab">{{> RouteLink args 'Inventory' 'Retronator.Store.Inventory'}}</li>
            <li class="tab">{{> RouteLink args 'Account' 'Retronator.Store.Account'}}</li>
          {{/if}}
          <li class="tab">{{> loginButtons}}</li>
        </ul>
      </nav>
      {{#if shoppingCart.items.length}}
        <div class="shopping-cart">
          {{itemsCountText}}
          {{#if $is flowRouterRouteName 'cart'}}
            <a class="button" href="{{flowRouterPath 'Retronator.Store.Checkout'}}">Checkout</a>
          {{else}}
            <a class="button" href="{{flowRouterPath 'Retronator.Store.Cart'}}">View cart</a>
          {{/if}}
        </div>
      {{/if}}
    </header>
  </div>
</template>

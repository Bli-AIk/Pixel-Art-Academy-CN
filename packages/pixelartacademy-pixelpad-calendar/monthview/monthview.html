<template name="PixelArtAcademy.PixelPad.Apps.Calendar.MonthView">
  <div class="pixelartacademy-pixelpad-apps-calendar-monthview {{visibleClass}}">
    <div class="header">
      <div class="academy">
        Retropolis<br/>Academy of Art
      </div>
      <div class="schoolyear">
        <span class="year">{{year}}</span><br/>
        {{yearName}}
      </div>
    </div>
    <div class="month {{includesTodayClass}} {{weeksCountClass}}">
      <ol class="weekdays">
        {{#each weekdays}}
          <li class="weekday">{{weekdayIndicator}}</li>
        {{/each}}
      </ol>
      <ol class="weeks">
        {{#each weeks}}
          <li class="week {{activeWeekClass}}">
            <ol class="days">
              {{#each days}}
                <div class="day {{dayInDisplayedMonthClass}} {{todayClass}}">
                  <div class="date">{{date.getDate}}</div>
                  <ul class="activities">
                  {{#each activities}}
                    <li class="activities-type">
                      {{#if activitiesAreJournalEntries}}
                        {{> PixelArtAcademy.PixelPad.Apps.Calendar.MonthView.JournalEntries this.data}}
                      {{/if}}
                      {{#if activitiesAreTasks}}
                        {{> PixelArtAcademy.PixelPad.Apps.Calendar.MonthView.Tasks this.data}}
                      {{/if}}
                    </li>
                  {{/each}}
                  </ul>
                </div>
              {{/each}}
            </ol>
            <div class="weekly-goals">
              {{#if active}}
                <div class="goal-progress">
                  {{#if daysWithActivities.goalReached}}
                      <div class="goal-reached"></div>
                  {{else}}
                    <div class="fraction">
                      {{daysWithActivities.count}}/{{daysWithActivities.goal}}
                    </div>
                  {{/if}}
                  <div class="percentage">
                    {{progressBarPercentage}}%
                  </div>
                </div>
              {{else}}
                {{#if daysWithActivities.goalReached}}
                  <div class="goal-reached"></div>
                {{/if}}
              {{/if}}
            </div>
            {{#if active}}
              <div class="progress">
                <div class="bar" {{style progressBarStyle}}></div>
              </div>
            {{/if}}
          </li>
        {{/each}}
      </ol>
    </div>
    <div class="navigation">
      <button class="previous-month-button month-button">prev</button>
      <div class="displayed-month">
        {{displayedMonthName}}
      </div>
      <button class="next-month-button month-button">next</button>
    </div>
  </div>
</template>

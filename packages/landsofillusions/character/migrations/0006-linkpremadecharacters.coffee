AM = Artificial.Mummification
LOI = LandsOfIllusions

ids =
  ada:
    body: 'z8mi7rHNTyvsdn5JT'
    outfit: 'kx9q7YDEKPHcCdZvP'
  alex:
    body: 'vHfp3W4cFw4Qig4i9'
    outfit: 'yxCottLfMqPcpmDgZ'
  ang:
    body: 'A2v5XPZvPxYCGhcZj'
    outfit: 'QFAcXR4qREWnzga69'
  ariya:
    body: 'F2tcDfytpjbqmqsAR'
    outfit: 'GK9McXBSxajHtZEXE'

characterDocuments =
  ada: JSON.parse """{ "_id": "Cju9F3jFFnvQHAob3", "user": { "_id": "9udfGdvJX7TyFMiE2", "displayName": "Administrator", "publicName": "Administrator" }, "_schema": "3.1.0", "ownerName": "Administrator", "displayName": "Ada", "avatar": { "pronouns": "Feminine", "color": { "hue": 1, "shade": 1 }, "body": { "node": { "fields": { "torso": { "node": { "fields": { "chest": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "4crvhtxw8zuGw5znC" } } } } } } }, "modifications": { "node": { "fields": { } } }, "breasts": { "node": { "fields": { "topShape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "q9wwvFDaj8sDNSxv9" } } } } } } }, "bottomShape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "pEKdNTA4GLPBTZkjw" } } } } } } }, "nippleShape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "Wnh6tAq4pT5TBafie" } } } } } } }, "nippleShade": { "value": -3 }, "nippleOffsetX": { "value": 0 } } } }, "breastsOffsetX": { "value": 0 }, "breastsOffsetY": { "value": 0 } } } }, "abdomen": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "sAwLLiP22Dnp7sJgJ" } } } } } } } } } }, "groin": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "aASqQS5TnPkzmhEQm" } } } } } } }, "sexOrgan": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "mKrBjZA7xNu8Cv5tv" } } } } } } } } } }, "pubicHair": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "XuQRjTTRrM4ysqgYu" } } } } } } }, "color": { "node": { "fields": { "hue": { "value": 2 }, "shade": { "value": 5 } } } } } } } } } } } } }, "head": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "Be7k7yMBe9SdDosrE" } } } } } } }, "neck": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "bwJLcsqBkkCKYjZR8" } } } } } } } } } }, "eyes": { "node": { "fields": { "iris": { "node": { "fields": { "hue": { "value": 11 }, "shade": { "value": 2 } } } }, "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "KFZMg55v2xScZwPv7" } } } } } } } } } }, "hair": { "node": { "fields": { "0": { "type": "Avatar.Body.Hair", "node": { "fields": { "color": { "node": { "fields": { "hue": { "value": 2 }, "shade": { "value": 4 } } } }, "shapes": { "node": { "fields": { "0": { "type": "Avatar.Body.HairShape", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "duzoL8yQGNssWAyqp" } } } } } } } } } } } } }, "1": { "type": "Avatar.Body.Hair", "node": { "fields": { "color": { "node": { "fields": { "hue": { "value": 4 }, "shade": { "value": 7 } } } }, "shapes": { "node": { "fields": { "0": { "type": "Avatar.Body.HairShape", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "q576Gh58Bd5BXAfpv" } } } } } } } } } } } } } } } }, "hairBehind": { "node": { "fields": { } } } } } }, "legs": { "node": { "fields": { "thigh": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "RpHsxkcnfQACn8bbi" } } } } } } } } } }, "lowerLeg": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "qC4KPDCKDaf4xhEEs" } } } } } } } } } }, "foot": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "FbMNXoBNQeLa8oXWA" } } } } } } } } } } } } }, "arms": { "node": { "fields": { "upperArm": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "QYQCDHv8jQAkZhM7m" } } } } } } } } } }, "lowerArm": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "6Ls825a9pfvRgtsiK" } } } } } } } } } }, "hand": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "7d4bG4bR3zxZEzuQK" } } } } } } } } } } } } }, "skin": { "node": { "fields": { "hue": { "value": 3 }, "shade": { "value": 8 } } } } } } }, "outfit": { "node": { "fields": { "articles": { "node": { "fields": { "0": { "type": "Avatar.Outfit.Article", "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "tRHQK4AsriGGMM37Z" } } } } } } }, "1": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "at3ng7RnhNjgumbPo" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 5 }, "shade": { "value": 3 } } } } } } } } } } } } }, "1": { "type": "Avatar.Outfit.Article", "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "bfQgE44weCYPKmewd" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 5 }, "shade": { "value": 3 } } } } } } } } } } } } }, "2": { "type": "Avatar.Outfit.Article", "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "m9KdLKz6NJow3XvLc" } } } } } } }, "1": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "bWYTthKABHfZAA7xh" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 2 } } } }, "name": { "value": "main" } } } }, "1": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "secondary" }, "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 6 } } } } } } } } } } } } }, "3": { "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "76LW7mbAyXJ3qEHFD" } } } } } } }, "1": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "EAggZMRwtkxQRdR63" } } } } } } }, "2": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "ChzDwznzXALnZYEiR" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 9 }, "shade": { "value": 7 } } } } } } } } } } } }, "type": "Avatar.Outfit.Article" }, "4": { "type": "Avatar.Outfit.Article", "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "qbczNoYSWNtBKD2ud" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 5 }, "shade": { "value": 4 } } } } } } }, "1": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "secondary" }, "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 8 } } } } } } } } } } } } } } } } } } }, "fullName": { "_id": "xsPG8E5EQxzzvpCwH", "translations": { "text": "Ada", "quality": 0, "best": { "text": "Ada", "quality": 0, "languageRegion": "" } } } }, "designApproved": true, "behavior": { "node": { "fields": { "personality": { "node": { "fields": { "factors": { "node": { "fields": { "1": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 1 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "dominant" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "sociable" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "talkative" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "3": { "node": { "fields": { "key": { "value": "competitive" }, "weight": { "value": -1 } } }, "type": "Behavior.Personality.Trait" }, "4": { "node": { "fields": { "key": { "value": "serious" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "2": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 2 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "agreeable" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "friendly" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "considerate" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "3": { "node": { "fields": { "key": { "value": "generous" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "4": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 4 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "selfconscious" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "emotional" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "temperamental" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "3": { "node": { "fields": { "key": { "value": "patient" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "4": { "node": { "fields": { "key": { "value": "unenvious" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "3": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 3 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "organized" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "reliable" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "impulsive" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "5": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 5 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "idealistic" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "intellectual" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "introspective" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "3": { "node": { "fields": { "key": { "value": "individualistic" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "4": { "node": { "fields": { "key": { "value": "sensual" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" } } } } } } } } } } } } }, "activities": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "Sleep" }, "hoursPerWeek": { "value": 52.5 } } }, "type": "Behavior.Activity" }, "1": { "node": { "fields": { "key": { "value": "School" }, "hoursPerWeek": { "value": 60 } } }, "type": "Behavior.Activity" }, "2": { "node": { "fields": { "key": { "value": "Drawing" }, "hoursPerWeek": { "value": 7 } } }, "type": "Behavior.Activity" }, "3": { "node": { "fields": { "key": { "value": "LGBT club" }, "hoursPerWeek": { "value": 10 } } }, "type": "Behavior.Activity" } } } }, "environment": { "node": { "fields": { "clutter": { "node": { "fields": { "average": { "value": 2 }, "ideal": { "value": 1 } } } }, "people": { "node": { "fields": { "0": { "node": { "fields": { "relationshipType": { "value": "Girlfriend" }, "relationshipStrength": { "value": 3 }, "livingProximity": { "value": "Local" }, "artSupport": { "value": 1 }, "doesArt": { "value": false }, "joins": { "value": false } } }, "type": "Behavior.Environment.Person" }, "1": { "node": { "fields": { "relationshipType": { "value": "Mom" }, "relationshipStrength": { "value": 1 }, "livingProximity": { "value": "Internet" }, "artSupport": { "value": 0 } } }, "type": "Behavior.Environment.Person" }, "2": { "node": { "fields": { "relationshipType": { "value": "Friend" }, "relationshipStrength": { "value": 2 }, "livingProximity": { "value": "Local" }, "artSupport": { "value": 0 }, "doesArt": { "value": false } } }, "type": "Behavior.Environment.Person" }, "3": { "node": { "fields": { "relationshipType": { "value": "Friend" }, "relationshipStrength": { "value": 3 }, "livingProximity": { "value": "Internet" }, "joins": { "value": true }, "artSupport": { "value": 1 } } }, "type": "Behavior.Environment.Person" } } } } } } }, "perks": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "Teammate" } } }, "type": "Behavior.Perk.Teammate" }, "1": { "node": { "fields": { "key": { "value": "Minimalist" } } }, "type": "Behavior.Perk.Minimalist" }, "2": { "node": { "fields": { "key": { "value": "Focused" } } }, "type": "Behavior.Perk.Focused" } } } } } } }, "debugName": "Ada" }"""
  alex: JSON.parse """{ "_id": "YTLLZMfGBTdnppGgj", "user": { "_id": "9udfGdvJX7TyFMiE2", "displayName": "Administrator", "publicName": "Administrator" }, "ownerName": "Administrator", "displayName": "Alex", "_schema": "3.1.0", "avatar": { "pronouns": "Neutral", "color": { "hue": 6 }, "body": { "node": { "fields": { "torso": { "node": { "fields": { "chest": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "yfY8mr4CDuPhNrM2j" } } } } } } }, "modifications": { "node": { "fields": { } } }, "breasts": { "node": { "fields": { "topShape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "q9wwvFDaj8sDNSxv9" } } } } } } }, "bottomShape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "cKyfgwPLk49pedHbB" } } } } } } }, "nippleShape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "Wnh6tAq4pT5TBafie" } } } } } } }, "nippleShade": { "value": -2 }, "nippleOffsetY": { "value": 0 }, "nippleOffsetX": { "value": 0 } } } }, "breastsOffsetX": { "value": 0 }, "breastsOffsetY": { "value": 0 } } } }, "abdomen": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "z3FZ6sFJP43gAisk8" } } } } } } } } } }, "groin": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "tx3BbueiqWMrXz8iy" } } } } } } }, "sexOrgan": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "mKrBjZA7xNu8Cv5tv" } } } } } } } } } }, "pubicHair": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "yvmm7XNBpeGSTkyN7" } } } } } } }, "color": { "node": { "fields": { "hue": { "value": 2 }, "shade": { "value": 1 } } } } } } } } } } } } }, "head": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "Be7k7yMBe9SdDosrE" } } } } } } }, "neck": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "bwJLcsqBkkCKYjZR8" } } } } } } } } } }, "eyes": { "node": { "fields": { "iris": { "node": { "fields": { "hue": { "value": 15 }, "shade": { "value": 1 } } } }, "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "KFZMg55v2xScZwPv7" } } } } } } } } } }, "hair": { "node": { "fields": { "0": { "type": "Avatar.Body.Hair", "node": { "fields": { "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 1 } } } }, "shapes": { "node": { "fields": { "0": { "type": "Avatar.Body.HairShape", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "8Xj6xRcfi2fAmErWL" } } } } } } }, "1": { "type": "Avatar.Body.HairShape", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "brNjWJKLmuSEJSHhW" } } } } } } } } } } } } } } } }, "hairBehind": { "node": { "fields": { } } } } } }, "legs": { "node": { "fields": { "thigh": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "AoxBxrsBLmQuxPsAn" } } } } } } } } } }, "lowerLeg": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "iNxZXSqYfbYKekBwu" } } } } } } } } } }, "foot": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "FbMNXoBNQeLa8oXWA" } } } } } } } } } } } } }, "arms": { "node": { "fields": { "upperArm": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "QYQCDHv8jQAkZhM7m" } } } } } } } } } }, "lowerArm": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "6Ls825a9pfvRgtsiK" } } } } } } } } } }, "hand": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "7d4bG4bR3zxZEzuQK" } } } } } } } } } } } } }, "skin": { "node": { "fields": { "hue": { "value": 3 }, "shade": { "value": 4 } } } } } } }, "outfit": { "node": { "fields": { "articles": { "node": { "fields": { "0": { "type": "Avatar.Outfit.Article", "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "xksQDPfuwtrKhQBtG" } } } } } } }, "1": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "hgC4Mz48pyoexfEYe" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 2 } } } } } } } } } } } } }, "1": { "type": "Avatar.Outfit.Article", "node": { "fields": { "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 2 } } } } } } } } } }, "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "xysQ68ZtQRmyAbh7t" } } } } } } } } } } } } }, "2": { "type": "Avatar.Outfit.Article", "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "kqGdMRKtgTrbzrfjf" } } } } } } }, "1": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "kWyxir9snrMYY9umz" } } } } } } }, "2": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "gN7GsudqhhpYvpiGb" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 2 } } } } } } } } } } } } } } } } } } }, "fullName": { "_id": "qbJLjBT9CjQvq8iF7", "translations": { "text": "Alex", "quality": 0, "best": { "text": "Alex", "quality": 0, "languageRegion": "" } } } }, "designApproved": true, "behavior": { "node": { "fields": { "personality": { "node": { "fields": { "factors": { "node": { "fields": { "1": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 1 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "adventurous" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "competitive" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "lonely" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "3": { "node": { "fields": { "key": { "value": "talkative" }, "weight": { "value": -1 } } }, "type": "Behavior.Personality.Trait" }, "4": { "node": { "fields": { "key": { "value": "sociable" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "5": { "node": { "fields": { "key": { "value": "courageous" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "6": { "node": { "fields": { "key": { "value": "dominant" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "7": { "node": { "fields": { "key": { "value": "boisterous" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "2": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 2 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "agreeable" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "affectionate" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "sympathetic" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "4": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 4 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "selfconscious" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "emotional" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "temperamental" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "3": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 3 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "perfectionistic" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "impulsive" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "unconventional" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "3": { "node": { "fields": { "key": { "value": "organized" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "5": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 5 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "inquisitive" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "creative" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "individualistic" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "3": { "node": { "fields": { "key": { "value": "introspective" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "4": { "node": { "fields": { "key": { "value": "perceptive" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "5": { "node": { "fields": { "key": { "value": "idealistic" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "6": { "node": { "fields": { "key": { "value": "intellectual" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "7": { "node": { "fields": { "key": { "value": "sensual" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" } } } } } } } } } } } } }, "activities": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "Sleep" }, "hoursPerWeek": { "value": 52.5 } } }, "type": "Behavior.Activity" }, "1": { "node": { "fields": { "key": { "value": "Job" }, "hoursPerWeek": { "value": 50 } } }, "type": "Behavior.Activity" }, "2": { "node": { "fields": { "key": { "value": "Drawing" }, "hoursPerWeek": { "value": 10 } } }, "type": "Behavior.Activity" }, "3": { "node": { "fields": { "key": { "value": "Photography" }, "hoursPerWeek": { "value": 5 } } }, "type": "Behavior.Activity" }, "4": { "node": { "fields": { "key": { "value": "School" }, "hoursPerWeek": { "value": 0 } } }, "type": "Behavior.Activity" }, "5": { "node": { "fields": { "key": { "value": "Dancing" }, "hoursPerWeek": { "value": 10 } } }, "type": "Behavior.Activity" } } } }, "environment": { "node": { "fields": { "clutter": { "node": { "fields": { "average": { "value": 3 }, "ideal": { "value": 2 } } } }, "people": { "node": { "fields": { "0": { "node": { "fields": { "relationshipType": { "value": "Friend" }, "relationshipStrength": { "value": 2 }, "livingProximity": { "value": "Local" }, "artSupport": { "value": 1 }, "doesArt": { "value": true } } }, "type": "Behavior.Environment.Person" }, "1": { "node": { "fields": { "relationshipType": { "value": "Friend" }, "relationshipStrength": { "value": 2 }, "livingProximity": { "value": "Local" }, "artSupport": { "value": 0 } } }, "type": "Behavior.Environment.Person" } } } } } } }, "perks": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "DeadEndJob" } } }, "type": "Behavior.Perk.DeadEndJob" } } } } } } }, "debugName": "Alex" }"""
  ang: JSON.parse """{ "_id": "7eATFWbbbRCkGShLQ", "user": { "_id": "9udfGdvJX7TyFMiE2", "displayName": "Administrator", "publicName": "Administrator" }, "_schema": "3.1.0", "ownerName": "Administrator", "displayName": "Ang", "avatar": { "pronouns": "Masculine", "color": { "hue": 12, "shade": -1 }, "body": { "node": { "fields": { "torso": { "node": { "fields": { "chest": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "d6wF3K4K7h6foMSBr" } } } } } } }, "modifications": { "node": { "fields": { } } }, "breasts": { "node": { "fields": { "nippleShape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "Wnh6tAq4pT5TBafie" } } } } } } }, "nippleShade": { "value": -3 } } } } } } }, "abdomen": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "HSMJFJmFnwGZj598d" } } } } } } } } } }, "groin": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "tx3BbueiqWMrXz8iy" } } } } } } }, "sexOrgan": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "ScBdDwyEQdR3YbTRW" } } } } } } } } } }, "pubicHair": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "PBeufhFMb4ss2QTjP" } } } } } } }, "color": { "node": { "fields": { "hue": { "value": 15 }, "shade": { "value": 1 } } } } } } } } } } } } }, "head": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "Be7k7yMBe9SdDosrE" } } } } } } }, "neck": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "bwJLcsqBkkCKYjZR8" } } } } } } } } } }, "eyes": { "node": { "fields": { "iris": { "node": { "fields": { "hue": { "value": 2 }, "shade": { "value": 2 } } } }, "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "KFZMg55v2xScZwPv7" } } } } } } } } } }, "hair": { "node": { "fields": { "0": { "type": "Avatar.Body.Hair", "node": { "fields": { "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 1 } } } }, "shapes": { "node": { "fields": { "0": { "type": "Avatar.Body.HairShape", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "cujvvkxZFXsvAsMZc" } } } } } } } } } } } } } } } }, "hairBehind": { "node": { "fields": { } } }, "facialHair": { "node": { "fields": { } } } } } }, "legs": { "node": { "fields": { "thigh": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "AoxBxrsBLmQuxPsAn" } } } } } } } } } }, "lowerLeg": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "2DjMt5PC5GyPGXcBm" } } } } } } } } } }, "foot": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "FbMNXoBNQeLa8oXWA" } } } } } } } } } } } } }, "arms": { "node": { "fields": { "lowerArm": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "6Ls825a9pfvRgtsiK" } } } } } } } } } }, "hand": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "7d4bG4bR3zxZEzuQK" } } } } } } } } } }, "upperArm": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "CLxRboBrKoPYQHzCS" } } } } } } } } } } } } }, "skin": { "node": { "fields": { "hue": { "value": 3 }, "shade": { "value": 5 } } } } } } }, "outfit": { "node": { "fields": { "articles": { "node": { "fields": { "0": { "type": "Avatar.Outfit.Article", "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "bhZ7QAMKsW7FQ6W2P" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 4 } } } } } } } } } } } } }, "1": { "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "8hhqLBmQFRawYdHTk" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 2 }, "shade": { "value": 2 } } } } } } }, "1": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "secondary" }, "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 1 } } } } } } } } } } } }, "type": "Avatar.Outfit.Article" }, "2": { "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "dZWt9vbY2pQMjRdmi" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 2 }, "shade": { "value": 5 } } } } } } } } } } } }, "type": "Avatar.Outfit.Article" }, "3": { "type": "Avatar.Outfit.Article", "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "9XewrJkLmxTF3mWS6" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 2 } } } } } } } } } } } } }, "4": { "node": { "fields": { "parts": { "node": { "fields": { "1": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "gNoy35qaFXnCet79h" } } } } } } }, "2": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "gHtNPZETJGLAGPvWX" } } } } } } }, "3": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "8E6ymyTxrSASfGrsK" } } } } } } }, "4": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "Q6rSRvLXY4AePj9y6" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 3 } } } } } } } } } } } }, "type": "Avatar.Outfit.Article" } } } } } } }, "fullName": { "_id": "3sxhJWiwPm2PC7xDJ", "translations": { "text": "Ang", "quality": 0, "best": { "text": "Ang", "quality": 0, "languageRegion": "" } } } }, "designApproved": true, "behavior": { "node": { "fields": { "personality": { "node": { "fields": { "factors": { "node": { "fields": { "1": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 1 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "modest" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "serious" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "ethical" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "3": { "node": { "fields": { "key": { "value": "courageous" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "2": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 2 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "generous" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "4": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 4 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "emotional" }, "weight": { "value": -1 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "3": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 3 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "reliable" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "consistent" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "strict" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "3": { "node": { "fields": { "key": { "value": "perfectionistic" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "5": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 5 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "introspective" }, "weight": { "value": -1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "sensual" }, "weight": { "value": -1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "intellectual" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" } } } } } } } } } } } } }, "activities": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "Sleep" }, "hoursPerWeek": { "value": 56 } } }, "type": "Behavior.Activity" }, "1": { "node": { "fields": { "key": { "value": "Job" }, "hoursPerWeek": { "value": 25 } } }, "type": "Behavior.Activity" }, "2": { "node": { "fields": { "key": { "value": "Drawing" }, "hoursPerWeek": { "value": 5 } } }, "type": "Behavior.Activity" }, "3": { "node": { "fields": { "key": { "value": "Game streaming" }, "hoursPerWeek": { "value": 20 } } }, "type": "Behavior.Activity" }, "4": { "node": { "fields": { "key": { "value": "Video production" }, "hoursPerWeek": { "value": 15 } } }, "type": "Behavior.Activity" } } } }, "environment": { "node": { "fields": { "clutter": { "node": { "fields": { "average": { "value": 4 }, "ideal": { "value": 3 } } } }, "people": { "node": { "fields": { "0": { "node": { "fields": { "relationshipType": { "value": "Mom" }, "relationshipStrength": { "value": 2 }, "livingProximity": { "value": "Local" }, "artSupport": { "value": -1 } } }, "type": "Behavior.Environment.Person" }, "1": { "node": { "fields": { "relationshipType": { "value": "Dad" }, "relationshipStrength": { "value": 1 }, "livingProximity": { "value": "Local" }, "artSupport": { "value": -2 } } }, "type": "Behavior.Environment.Person" }, "2": { "node": { "fields": { "relationshipType": { "value": "Friend" }, "relationshipStrength": { "value": 3 }, "livingProximity": { "value": "Internet" }, "artSupport": { "value": 1 } } }, "type": "Behavior.Environment.Person" }, "3": { "node": { "fields": { "relationshipType": { "value": "Friend" }, "relationshipStrength": { "value": 3 }, "livingProximity": { "value": "Internet" }, "artSupport": { "value": 2 } } }, "type": "Behavior.Environment.Person" } } } } } } }, "perks": { "node": { "fields": { "1": { "node": { "fields": { "key": { "value": "Organized" } } }, "type": "Behavior.Perk.Organized" } } } } } } }, "debugName": "Ang" }"""
  ariya: JSON.parse """{ "_id": "ip8jxys4MSg5XTTXY", "user": { "_id": "9udfGdvJX7TyFMiE2", "displayName": "Administrator", "publicName": "Administrator" }, "displayName": "Ariya", "ownerName": "Administrator", "_schema": "3.1.0", "avatar": { "pronouns": "Masculine", "color": { "hue": 2, "shade": -2 }, "body": { "node": { "fields": { "torso": { "node": { "fields": { "chest": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "gRERLGeozMEP2ssvZ" } } } } } } }, "modifications": { "node": { "fields": { } } }, "breasts": { "node": { "fields": { "nippleShape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "Wnh6tAq4pT5TBafie" } } } } } } }, "nippleShade": { "value": -2 }, "nippleOffsetX": { "value": 0 }, "nippleOffsetY": { "value": 0 } } } } } } }, "abdomen": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "bdHvhmmFetnDugQTu" } } } } } } } } } }, "groin": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "aASqQS5TnPkzmhEQm" } } } } } } }, "sexOrgan": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "ScBdDwyEQdR3YbTRW" } } } } } } } } } }, "pubicHair": { "node": { "fields": { "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 1 } } } }, "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "mfR7tTzbyW2nYT8pG" } } } } } } } } } } } } } } } }, "head": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "zHn6s2QoMfRZ97jRv" } } } } } } }, "neck": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "bwJLcsqBkkCKYjZR8" } } } } } } } } } }, "eyes": { "node": { "fields": { "iris": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 1 } } } }, "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "KFZMg55v2xScZwPv7" } } } } } } } } } }, "hair": { "node": { "fields": { "0": { "type": "Avatar.Body.Hair", "node": { "fields": { "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 1 } } } }, "shapes": { "node": { "fields": { "0": { "type": "Avatar.Body.HairShape", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "uBGoQvm7Fg9u9XXrF" } } } } } } }, "1": { "type": "Avatar.Body.HairShape", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "NW5w529egeKSaAy4P" } } } } } } }, "2": { "type": "Avatar.Body.HairShape", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "Jp7c48qAGLRPdgCrn" } } } } } } } } } } } } } } } }, "hairBehind": { "node": { "fields": { "0": { "type": "Avatar.Body.Hair", "node": { "fields": { "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 1 } } } }, "shapes": { "node": { "fields": { "0": { "type": "Avatar.Body.HairShape", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "6RSELDG5b4T9djeCQ" } } } } } } } } } } } } } } } } } } }, "legs": { "node": { "fields": { "thigh": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "RpHsxkcnfQACn8bbi" } } } } } } } } } }, "lowerLeg": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "qC4KPDCKDaf4xhEEs" } } } } } } } } } }, "foot": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "FbMNXoBNQeLa8oXWA" } } } } } } } } } } } } }, "arms": { "node": { "fields": { "upperArm": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "QYQCDHv8jQAkZhM7m" } } } } } } } } } }, "lowerArm": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "6Ls825a9pfvRgtsiK" } } } } } } } } } }, "hand": { "node": { "fields": { "shape": { "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "7d4bG4bR3zxZEzuQK" } } } } } } } } } } } } }, "skin": { "node": { "fields": { "hue": { "value": 3 }, "shade": { "value": 3 } } } } } } }, "outfit": { "node": { "fields": { "articles": { "node": { "fields": { "0": { "type": "Avatar.Outfit.Article", "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "BCYPwhajdWbhbobdj" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 3 } } } } } } } } } } } } }, "1": { "type": "Avatar.Outfit.Article", "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "7RNRXwMCEo3kYtfso" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 2 } } } } } } } } } } } } }, "4": { "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "959iymQ3x7KW7t8Zq" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 2 } } } } } } }, "1": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "secondary" }, "color": { "node": { "fields": { "hue": { "value": 0 }, "shade": { "value": 6 } } } } } } } } } } } }, "type": "Avatar.Outfit.Article" }, "5": { "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "8ECne5t8eL2AJ6drH" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 10 }, "shade": { "value": 5 } } } } } } } } } } } }, "type": "Avatar.Outfit.Article" }, "6": { "node": { "fields": { "parts": { "node": { "fields": { "0": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "M9kMJv62MmCaghExh" } } } } } } }, "1": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "GmF94NLD67Rr7KDfZ" } } } } } } }, "2": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "kMi8D76nrRTATrrq8" } } } } } } }, "3": { "type": "Avatar.Outfit.ArticlePart", "node": { "fields": { "front": { "node": { "fields": { "spriteId": { "value": "w4C4qiFQKatZg3rCJ" } } } } } } } } } }, "customColors": { "node": { "fields": { "0": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "main" }, "color": { "node": { "fields": { "hue": { "value": 15 }, "shade": { "value": 6 } } } } } } }, "1": { "type": "Avatar.Outfit.CustomColor", "node": { "fields": { "name": { "value": "secondary" }, "color": { "node": { "fields": { "hue": { "value": 15 }, "shade": { "value": 3 } } } } } } } } } } } }, "type": "Avatar.Outfit.Article" } } } } } } }, "fullName": { "_id": "NrojZsAcbGhazmEhm", "translations": { "text": "Ariya", "quality": 0, "best": { "text": "Ariya", "quality": 0, "languageRegion": "" } } } }, "designApproved": true, "behavior": { "node": { "fields": { "personality": { "node": { "fields": { "factors": { "node": { "fields": { "1": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 1 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "boisterous" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "dominant" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "adventurous" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "3": { "node": { "fields": { "key": { "value": "courageous" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "4": { "node": { "fields": { "key": { "value": "talkative" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "5": { "node": { "fields": { "key": { "value": "explosive" }, "weight": { "value": -1 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "2": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 2 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "agreeable" }, "weight": { "value": -1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "considerate" }, "weight": { "value": -1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "sympathetic" }, "weight": { "value": -1 } } }, "type": "Behavior.Personality.Trait" }, "3": { "node": { "fields": { "key": { "value": "friendly" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "4": { "node": { "fields": { "key": { "value": "tactful" }, "weight": { "value": -1 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "4": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 4 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "patient" }, "weight": { "value": -1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "excitable" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "3": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 3 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "unconventional" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "ambitious" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "perfectionistic" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "3": { "node": { "fields": { "key": { "value": "organized" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" }, "4": { "node": { "fields": { "key": { "value": "impulsive" }, "weight": { "value": -1 } } }, "type": "Behavior.Personality.Trait" } } } } } } }, "5": { "type": "Behavior.Personality.Factor", "node": { "fields": { "index": { "value": 5 }, "traits": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "creative" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "1": { "node": { "fields": { "key": { "value": "intellectual" }, "weight": { "value": 1 } } }, "type": "Behavior.Personality.Trait" }, "2": { "node": { "fields": { "key": { "value": "introspective" }, "weight": { "value": 0 } } }, "type": "Behavior.Personality.Trait" } } } } } } } } } } } } }, "activities": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "Sleep" }, "hoursPerWeek": { "value": 42 } } }, "type": "Behavior.Activity" }, "1": { "node": { "fields": { "key": { "value": "Job" }, "hoursPerWeek": { "value": 50 } } }, "type": "Behavior.Activity" }, "2": { "node": { "fields": { "key": { "value": "School" }, "hoursPerWeek": { "value": 6 } } }, "type": "Behavior.Activity" }, "3": { "node": { "fields": { "key": { "value": "Drawing" }, "hoursPerWeek": { "value": 3 } } }, "type": "Behavior.Activity" }, "4": { "node": { "fields": { "key": { "value": "Blogging" }, "hoursPerWeek": { "value": 5 } } }, "type": "Behavior.Activity" }, "5": { "node": { "fields": { "key": { "value": "Coding" }, "hoursPerWeek": { "value": 16 } } }, "type": "Behavior.Activity" }, "6": { "node": { "fields": { "key": { "value": "D&D" }, "hoursPerWeek": { "value": 4 } } }, "type": "Behavior.Activity" }, "7": { "node": { "fields": { "key": { "value": "Guitar" }, "hoursPerWeek": { "value": 5 } } }, "type": "Behavior.Activity" }, "8": { "node": { "fields": { "key": { "value": "Skateboarding" }, "hoursPerWeek": { "value": 4 } } }, "type": "Behavior.Activity" } } } }, "environment": { "node": { "fields": { "clutter": { "node": { "fields": { "average": { "value": 3 }, "ideal": { "value": 5 } } } }, "people": { "node": { "fields": { "0": { "node": { "fields": { "relationshipType": { "value": "Sister" }, "relationshipStrength": { "value": 1 }, "livingProximity": { "value": "Internet" }, "artSupport": { "value": 2 } } }, "type": "Behavior.Environment.Person" }, "1": { "node": { "fields": { "relationshipType": { "value": "Girlfriend" }, "relationshipStrength": { "value": 3 }, "livingProximity": { "value": "Local" }, "artSupport": { "value": 1 }, "doesArt": { "value": true }, "joins": { "value": true } } }, "type": "Behavior.Environment.Person" }, "2": { "node": { "fields": { "relationshipType": { "value": "Dad" }, "relationshipStrength": { "value": 2 }, "livingProximity": { "value": "Internet" }, "artSupport": { "value": 1 } } }, "type": "Behavior.Environment.Person" } } } } } } }, "perks": { "node": { "fields": { "0": { "node": { "fields": { "key": { "value": "CreativeMess" } } }, "type": "Behavior.Perk.CreativeMess" }, "1": { "node": { "fields": { "key": { "value": "NothingToClean" } } }, "type": "Behavior.Perk.NothingToClean" }, "3": { "node": { "fields": { "key": { "value": "RenaissanceSoul" } } }, "type": "Behavior.Perk.RenaissanceSoul" }, "4": { "node": { "fields": { "key": { "value": "NoFreeTime" } } }, "type": "Behavior.Perk.NoFreeTime" } } } } } } }, "debugName": "Ariya" }"""

class Migration extends Document.MajorMigration
  name: "Link pre-made characters to templates."

  forward: (document, collection, currentSchema, newSchema) =>
    count = 0

    collection.findEach
      _schema: currentSchema
    ,
      (document) =>
        return unless document.avatar?.body

        # See if character's avatar matches any of the pre-made ones.
        for preMadeCharacterName, preMadeCharacterDocument of characterDocuments
          if _.isEqual document.avatar.body, preMadeCharacterDocument.avatar.body

            # Set the avatar to a template.
            count += collection.update _id: document._id,
              $set:
                'avatar.body':
                  template:
                    id: ids[preMadeCharacterName].body
                'avatar.outfit':
                  template:
                    id: ids[preMadeCharacterName].outfit
                _schema: newSchema

            # After the database is initialized with character templates, embed template data and pre-rendered textures.
            do (preMadeCharacterName, preMadeCharacterDocument) =>
              AM.DatabaseContent.startup =>
                bodyTemplate = LOI.Character.Part.Template.documents.findOne ids[preMadeCharacterName].body
                outfitTemplate = LOI.Character.Part.Template.documents.findOne ids[preMadeCharacterName].outfit

                LOI.Character.documents.update document._id,
                  $set:
                    'avatar.body':
                      template:
                        id: bodyTemplate._id
                        version: bodyTemplate.latestVersion.index
                        data: bodyTemplate.latestVersion.data
                        name: bodyTemplate.name.translations.best.text
                    'avatar.outfit':
                      template:
                        id: ids[preMadeCharacterName].outfit
                        version: outfitTemplate.latestVersion.index
                        data: outfitTemplate.latestVersion.data
                        name: outfitTemplate.name.translations.best.text
                    'avatar.textures':
                      normals:
                        url: "https://pixelartacademy.s3.amazonaws.com/avatars/#{preMadeCharacterDocument._id}-normals.png"
                      paletteData:
                        url: "https://pixelartacademy.s3.amazonaws.com/avatars/#{preMadeCharacterDocument._id}-palettedata.png"

    counts = super arguments...
    counts.migrated += count
    counts.all += count
    counts

  backward: (document, collection, currentSchema, oldSchema) =>
    count = 0

    collection.findEach
      _schema: currentSchema
    ,
      (document) =>
        return unless document.avatar?.body?.template?.id

        for preMadeCharacterName, preMadeCharacterDocument of characterDocuments
          if document.avatar.body.template.id is ids[preMadeCharacterName].body
            # Unlink template and replace with the embedded data.
            count += collection.update _id: document._id,
              $set:
                'avatar.body': document.avatar.body.template.data
                'avatar.outfit': document.avatar.outfit?.template?.data

    counts = super arguments...
    counts.migrated += count
    counts.all += count
    counts

LOI.Character.addMigration new Migration()

@import "{retronator:artificialengines}/mirage/helpers.import"
@import "atari2600.import"

pixel-text-outline(color)
  value = ()
  for x in -1 0 1
    for y in -1 0 1
      unless x is y
        push(value, "%srem %srem 0 %s" % (x y color))

  text-shadow unquote(join(',', value))

pixel-text-emboss(mainColor, topColor)
  value = ()
  for x in -1 1 0
    for y in -1 0 1
      if y is -1 and x is 0
        push(value, "%srem %srem 0 %s" % (x y topColor))
      else
        push(value, "%srem %srem 0 %s" % (x y+1 mainColor))

  text-shadow unquote(join(',', value))

pixel-image-rendering()
  image-rendering optimizeSpeed
  image-rendering -moz-crisp-edges            // Firefox
  image-rendering -o-crisp-edges              // Opera
  image-rendering -webkit-optimize-contrast   // Chrome, Safari
  image-rendering pixelated                   // Chrome
  image-rendering optimize-contrast           // CSS3
  -ms-interpolation-mode nearest-neighbor     // IE8+

image(url)
  url(url + '?' + random())

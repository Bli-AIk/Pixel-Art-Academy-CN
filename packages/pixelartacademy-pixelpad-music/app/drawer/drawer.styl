@import "{retronator:retronator-identity}/style/style.import"

.pixelartacademy-pixelpad-apps-music-drawer
  position absolute
  width 320rem
  height 240rem
  left calc(50% - 160rem)
  top calc(50% - 120rem)

  &.opened
    .drawer
      top -50rem

  &.covered
    .table-top
    .drawer
      transition top 1s, opacity 1s 0.5s

    .table-top
      top -50rem
      opacity 0

    .drawer
      top 240rem
      opacity 0

    .selected-tape
      top 284rem !important
      transition all 0.5s

      .memory-card
        top -500rem !important
        transform scale(0.5)
        transition all 0.5s !important

  .table-top
  .drawer
    position absolute
    left -50rem
    width 420rem
    height 340rem
    transition top 1s, opacity 0.5s

  .table-top
    background-image image('/pixelartacademy/pixelpad/apps/music/tabletop.png')
    top -340rem

  .drawer
    background-image image('/pixelartacademy/pixelpad/apps/music/drawer.png')
    top -320rem

    .contents
      position absolute
      left 70rem
      top 80rem
      width 110rem
      padding 10rem
      color black

      .tapes
        list-style none
        padding 0
        margin 0

        .tape
          position relative
          top 0
          width 47rem
          height 57rem
          transition all 0.2s
          transform-origin 0 0
          filter drop-shadow(-3rem 1rem 0 transparentify(atariOrange(2), atariOrange(4)))
          cursor pointer
          perspective 200rem
          background atariGray(7)

          &:hover
            top -1rem
            filter drop-shadow(-6rem 2rem 0 transparentify(atariOrange(2), atariOrange(4)))

          &.selected
            opacity 0
            transform scale(1.5)
            pointer-events none

            .case-top
              transform rotateY(-180deg)

          .case-top
          .case-bottom
            absolute-cover()
            opacity 0.6

          .case-bottom
            background-image image('/pixelartacademy/pixelpad/apps/music/case-bottom.png')

          .case-top
            background-image image('/pixelartacademy/pixelpad/apps/music/case-top.png')
            transform-origin 0 0
            transition all 0.2s

          .memory-card
            position absolute
            top 5rem
            left 5rem
            width 37rem
            height 47rem

            &::after
              content ''
              absolute-cover()
              background-image image('/pixelartacademy/pixelpad/apps/music/tape-overlay.png')
              mix-blend-mode overlay
              pointer-events none

            .image
              width 100%
              height 100%

  .selected-tape
    position absolute
    top 50
    left 50
    width 100rem
    height 100rem
    opacity 0
    visibility hidden
    transform scale(0.8)
    perspective 600rem
    background atariOrange(7)

    &.active
      opacity 1
      transition all 0.2s, left 1s
      visibility visible
      transform scale(1)

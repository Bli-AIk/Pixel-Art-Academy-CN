@import "{retronator:landsofillusions}/style/style.import"

.landsofillusions-construct-loading-tv-mainmenu
  .characters
    list-style none
    display flex
    padding 0
    height 75rem
    overflow-x hidden
    animation 60s step-end infinite glitch-opacity !important

    .character
    .new-character
      position relative
      vertical-align top
      flex-shrink 0
      width 75rem
      height 75rem
      margin-right 5rem
      border 1rem solid atariGreen(4)
      cursor pointer

      .avatar
        filter sepia(100%) saturate(200%) hue-rotate(80deg)

      .name
        padding 3rem
        text-transform uppercase
        text-align center
        animation 60s infinite glitch-skew, 60s step-end infinite glitch-opacity
        color atariGreen(4)

      &:hover
        border-color atariGreen(5)
        color atariGreen(5)

        .name
          color atariGreen(5)

      &::after
        content ''
        absolute-cover()
        z-index -1
        animation 60s infinite glitch-characters
        border 1rem solid atariGreen(2)

    .character
      background image('/landsofillusions/construct/tv/preview-box.png') 0 0 / 100% 100%

      &.selected
        border-color atariGreen(3)
        color atariGreen(3)
        background-color atariGreen(1)

    .new-character
      .plus
        position absolute
        top 35rem
        left 0
        right 0
        text-align center
        animation 60s infinite glitch-skew, 60s step-end infinite glitch-opacity

  .controls
    .sync-button
      position absolute
      right 0
      top 0

    .unlink-button
      position absolute
      left 0
      top 0

    .previous-button
    .next-button
      visibility hidden

      &.visible
        visibility visible

@keyframes glitch-characters
  time = 0
  for i in 1..10
    time += math(0, 'random') * 20
    {1% * (time)}
      transform translateX(0)
      border-width 0
      filter blur(0)
    {1% * (time + 0.2)}
      translate = math(0, 'random') - 0.5
      transform translateX(1rem * translate)
      border-width 0 1rem
      filter blur(0.5rem)
    {1% * (time + 0.4)}
      transform translateX(0)
      border-width 0
      filter blur(0)
